{{define "content"}}
<div class="max-w-5xl mx-auto">
  <h1 class="text-2xl font-bold mb-4">Realtime Telemetry</h1>

  <div
    id="telemetry"
    class="bg-white shadow rounded-lg p-4 border border-gray-200"
    hx-get="/api/latest"
    hx-trigger="load, every 3s"
    hx-target="#telemetry"
    hx-swap="innerHTML"
  >
    <p class="text-gray-500 italic">Loading latest telemetryâ€¦</p>
  </div>

  <div class="mt-6">
    <form
      hx-post="/api/control"
      hx-swap="none"
      class="bg-white shadow p-4 rounded-lg border border-gray-200"
    >
      <h2 class="font-semibold mb-3">Send Control Command</h2>
      <div class="grid grid-cols-2 gap-4">
        <label class="block">
          <span class="text-sm text-gray-600">Vehicle ID</span>
          <input
            type="text"
            name="vehicle_id"
            required
            class="w-full border rounded px-2 py-1"
          />
        </label>
        <label class="block">
          <span class="text-sm text-gray-600">Speed</span>
          <input
            type="number"
            name="speed"
            step="0.1"
            class="w-full border rounded px-2 py-1"
          />
        </label>
        <label class="block">
          <span class="text-sm text-gray-600">Latitude</span>
          <input
            type="number"
            name="lat"
            step="0.000001"
            class="w-full border rounded px-2 py-1"
          />
        </label>
        <label class="block">
          <span class="text-sm text-gray-600">Longitude</span>
          <input
            type="number"
            name="lon"
            step="0.000001"
            class="w-full border rounded px-2 py-1"
          />
        </label>
      </div>
      <button
        type="submit"
        class="mt-3 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
      >
        Send Command
      </button>
    </form>
  </div>
</div>
{{end}} {{template "layout" .}}
